!function(a){function c(b){try{a.module(b)}catch(c){return!1}return!0}function e(a,b,d){function e(){a.$on("$locationChangeStart",function(a){b.$_blockLocationChange&&b.state().blockCount>0&&a.preventDefault()}),a.$on("$locationChangeSuccess",function(){b.$_blockLocationChange=d.blockBrowserNavigation})}if(d.blockBrowserNavigation)if(c("ngRoute"))var f=a.$on("$viewContentLoaded",function(){f(),e()});else e()}var b=a.module("blockUI",[]);b.config(["$provide","$httpProvider",function(a,b){a.decorator("$exceptionHandler",["$delegate","$injector",function(a,b){var c,d;return function(e,f){if(d=d||b.get("blockUIConfig"),d.resetOnException)try{c=c||b.get("blockUI"),c.instances.reset()}catch(g){console.log("$exceptionHandler",e)}a(e,f)}}]),b.interceptors.push("blockUIHttpInterceptor")}]),b.run(["$document","blockUIConfig","$templateCache",function(a,b,c){b.autoInjectBodyBlock&&a.find("body").attr("block-ui","main"),b.template&&(b.templateUrl="$$block-ui-template$$",c.put(b.templateUrl,b.template))}]),b.config(["$provide",function(a){a.decorator("$location",d)}]);var d=["$delegate","blockUI","blockUIConfig",function(b,c,d){function f(a){var d=b[a];b[a]=function(){var a=d.apply(b,arguments);return a===b&&(c.$_blockLocationChange=!1),a}}if(d.blockBrowserNavigation){c.$_blockLocationChange=!0;var e=["url","path","search","hash","state"];a.forEach(e,f)}return b}];b.directive("blockUiContainer",["blockUIConfig","blockUiContainerLinkFn",function(a,b){return{scope:!0,restrict:"A",templateUrl:a.templateUrl,compile:function(a){return b}}}]).factory("blockUiContainerLinkFn",["blockUI","blockUIUtils",function(a,b){return function(a,b,c){var d=b.inheritedData("block-ui");if(!d)throw new Error("No parent block-ui service instance located.");a.state=d.state()}}]),b.directive("blockUi",["blockUiCompileFn",function(a){return{scope:!0,restrict:"A",compile:a}}]).factory("blockUiCompileFn",["blockUiPreLinkFn",function(a){return function(b,c){return b.append('<div block-ui-container class="block-ui-container"></div>'),{pre:a}}}]).factory("blockUiPreLinkFn",["blockUI","blockUIUtils","blockUIConfig",function(a,b,c){return function(d,f,g){f.hasClass("block-ui")||f.addClass(c.cssClass),g.$observe("blockUiMessageClass",function(a){d.$_blockUiMessageClass=a});var h=g.blockUi||"_"+d.$id,i=a.instances.get(h);if("main"===h)e(d,i,c);else{var j=f.inheritedData("block-ui");j&&(i._parent=j)}d.$on("$destroy",function(){i.release()}),i.addRef(),d.$_blockUiState=i.state(),d.$watch("$_blockUiState.blocking",function(a){f.attr("aria-busy",!!a),f.toggleClass("block-ui-visible",!!a)}),d.$watch("$_blockUiState.blockCount > 0",function(a){f.toggleClass("block-ui-active",!!a)});var k=g.blockUiPattern;if(k){var l=b.buildRegExp(k);i.pattern(l)}f.data("block-ui",i)}}]),b.constant("blockUIConfig",{templateUrl:"angular-block-ui/angular-block-ui.ng.html",delay:250,message:"Loading ...",autoBlock:!0,resetOnException:!0,requestFilter:a.noop,autoInjectBodyBlock:!0,cssClass:"block-ui block-ui-anim-fade",blockBrowserNavigation:!1}),b.factory("blockUIHttpInterceptor",["$q","$injector","blockUIConfig","$templateCache",function(a,b,c,d){function f(){e=e||b.get("blockUI")}function g(a){c.autoBlock&&a&&!a.$_noBlock&&a.$_blocks&&(f(),a.$_blocks.stop())}function h(b){try{g(b.config)}catch(c){console.log("httpRequestError",c)}return a.reject(b)}var e;return{request:function(a){if(c.autoBlock&&("GET"!=a.method||!d.get(a.url))){var b=c.requestFilter(a);b===!1?a.$_noBlock=!0:(f(),a.$_blocks=e.instances.locate(a),a.$_blocks.start(b))}return a},requestError:h,response:function(a){return a&&g(a.config),a},responseError:h}}]),b.factory("blockUI",["blockUIConfig","$timeout","blockUIUtils","$document",function(b,c,d,e){function g(d){var g,e=this,f={id:d,blockCount:0,message:b.message,blocking:!1},h=[];this._id=d,this._refs=0,this.start=function(a){a=f.blockCount>0?a||f.message||b.message:a||b.message,f.message=a,f.blockCount++,g||(g=c(function(){g=null,f.blocking=!0},b.delay))},this._cancelStartTimeout=function(){g&&(c.cancel(g),g=null)},this.stop=function(){f.blockCount=Math.max(0,--f.blockCount),0===f.blockCount&&e.reset(!0)},this.message=function(a){f.message=a},this.pattern=function(a){return void 0!==a&&(e._pattern=a),e._pattern},this.reset=function(b){e._cancelStartTimeout(),f.blockCount=0,f.blocking=!1;try{b&&a.forEach(h,function(a){a()})}finally{h.length=0}},this.done=function(a){h.push(a)},this.state=function(){return f},this.addRef=function(){e._refs+=1},this.release=function(){--e._refs<=0&&i.instances._destroy(e)}}var h=(e.find("body"),[]);h.get=function(a){if(!isNaN(a))throw new Error("BlockUI id cannot be a number");var b=h[a];return b||(b=h[a]=new g(a),h.push(b)),b},h._destroy=function(b){if(a.isString(b)&&(b=h[b]),b){b.reset();var c=d.indexOf(h,b);h.splice(c,1),delete h[b.state().id]}},h.locate=function(a){var b=[];d.forEachFnHook(b,"start"),d.forEachFnHook(b,"stop");for(var c=h.length;c--;){var e=h[c],f=e._pattern;f&&f.test(a.url)&&b.push(e)}return 0===b.length&&b.push(i),b},d.forEachFnHook(h,"reset");var i=h.get("main");return i.addRef(),i.instances=h,i}]),b.factory("blockUIUtils",function(){var b=a.element,c={buildRegExp:function(a){var c,b=a.match(/^\/(.*)\/([gim]*)$/);if(!b)throw Error("Incorrect regular expression format: "+a);return c=new RegExp(b[1],b[2])},forEachFn:function(a,b,c){for(var d=a.length;d--;){var e=a[d];e[b].apply(e,c)}},forEachFnHook:function(a,b){a[b]=function(){c.forEachFn(this,b,arguments)}},isElementInBlockScope:function(a,b){for(var c=a.inheritedData("block-ui");c;){if(c===b)return!0;c=c._parent}return!1},findElement:function(a,d,e){var f=null;if(d(a))f=a;else{var g;g=e?a.parent():a.children();for(var h=g.length;!f&&h--;)f=c.findElement(b(g[h]),d,e)}return f},indexOf:function(a,b,c){for(var d=c||0,e=a.length;e>d;d++)if(a[d]===b)return d;return-1}};return c}),a.module("blockUI").run(["$templateCache",function(a){a.put("angular-block-ui/angular-block-ui.ng.html",'<div class="block-ui-overlay"></div><div class="block-ui-message-container" aria-live="assertive" aria-atomic="true"><div class="block-ui-message" ng-class="$_blockUiMessageClass">{{ state.message }}</div></div>')}])}(angular);